<html>
  <head>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <meta name="viewport" content="width=device-width, initial-scale = 1.0" />
    <title>Employee Alteration</title>

    <link rel="stylesheet" href="employee_alteration.css" />
  </head>

  <body>
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-5HZHZH"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
        lazy="true"
      ></iframe>
    </noscript>

    <body>
      <div class="hero">
        <nav>
          <a href="manager_login_frontpage.html">
          <img src="images/MFA.png" class="logo" />
          <ul>
            <li><a href="manager_login_frontpage.html">Home</a></li>
            <li><a href="">About</a></li>
            <li><a href="">Collection</a></li>
            <li><a href="">Exhibitions</a></li>
            <li><a href="">Tickets</a></li>
            <li><a href="">Shop</a></li>
            <li><a href="manager_database.html">Database</a></li>
            <li><a href="frontpage.html">Log Out</a></li>
          </ul>
        </nav>

    <div>
      <h1 class="title-align" style="color: rgb(222, 44, 44)">Employee Alteration</h1>

      <div id="formContainer" class="inner">
        <label for="firstNameInput"> First Name: </label>
        <input
          type="text"
          id="firstNameInput"
          placeholder="Enter your first name"
        />

        <label for="middleNameInput"> Middle Name: </label>
        <input
          type="text"
          id="middleNameInput"
          placeholder="Enter your middle name"
        />

        <label for="lastNameInput"> Last Name: </label>
        <input
          type="text"
          id="lastNameInput"
          placeholder="Enter your last name"
        />

        <label for="employeeIDInput"> Employee ID: </label>
        <input
          type="number"
          id="employeeIDInput"
          placeholder="Enter a valid employee ID"
        />

        <label for="gender">Gender:</label>
<select id="gender" name="gender">
  <option value="male">Male</option>
  <option value="female">Female</option>
</select>


<label for="ethnicityInput"> Ethnicity: </label>
<input
  type="text"
  id="ethnicityInput"
  placeholder="Enter your ethnicity"
/>

<label for="roleInput"> Employee Role: </label>
<input
  type="text"
  id="roleInput"
  placeholder="Enter the employee's role"
/>

<label for="departmentNumberInput"> Department Number: </label>
<input
  type="text"
  id="departmentNumberInput"
  placeholder="Enter the employee's department number"
/>

<label for="salaryInput"> Salary: </label>
        <input
          type="number"
          id="salaryInput"
          placeholder="Enter the employee's salary"
        />

        <label for="ssnInput"> Social Security Number: </label>
        <input
          type="number"
          id="ssnInput"
          placeholder="Enter the employee's SSN"
        />


        <button onclick="validateAndAddData()">Add</button>
      </div>
    </div>
      </div>

    <table id="outputTable">
      <tr>
        <th>First Name</th>
        <th>Middle Name</th>
        <th>Last Name</th>
        <th>Employee ID</th>
        <th>Gender</th>
        <th>Ethnicity</th>
        <th>Employee Role</th>
        <th>Department Number</th>
        <th>Salary</th>
        <th>SSN:</th>
      </tr>
    </table>

    <script>


function validateAndAddData() {
  let firstName = document.getElementById("firstNameInput").value;
          let middleName = document.getElementById("middleNameInput").value;
          let lastName = document.getElementById("lastNameInput").value;
          let employeeID = document.getElementById("employeeIDInput").value;
          let gender = document.getElementById("gender").value;
          let ethnicity = document.getElementById("ethnicityInput").value;
          let role = document.getElementById("roleInput").value;
          let departmentNumber = document.getElementById("departmentNumberInput").value;
          let salary = document.getElementById("salaryInput").value;
          let socialSecurity = document.getElementById("ssnInput").value;


    if (!firstName || !middleName || !lastName || !employeeID || !gender || !ethnicity || !role || !departmentNumber || !salary || !socialSecurity) {
        alert("All categories need to be filled out.");
        return;
    }


    if (firstName.length > 100) {
        alert("First name should be at most 100 characters.");
        return;
    }

    if (middleName.length > 100) {
        alert("Middle name should be at most 100 characters.");
        return;
    }

    if (lastName.length > 100) {
        alert("Last name should be at most 100 characters.");
        return;
    }

    if (employeeID.length !== 8) {
    alert("Employee ID must be exactly 8 digits.");
    return;
}


    if (ethnicity.length > 200) {
        alert("Ethnicity should be at most 200 characters.");
        return;
    }

    if (role.length > 100) {
        alert("Employee role should be at most 100 characters.");
        return;
    }

    if (departmentNumber < 0 || departmentNumber > 150) {
        alert("Department number should be between 0 and 150.");
        return;
    }

    if (salary.length > 7 || parseFloat(salary) <= 0) {
    alert("Salary can have a maximum of 7 numbers and has to be greater than 0.");
    return;
}

if (socialSecurity.length !== 9) {
    alert("Social security number must be exactly 9 digits.");
    return;
}


    addData();
}

      function addData() {
          // Get input values
          let firstName = document.getElementById("firstNameInput").value;
          let middleName = document.getElementById("middleNameInput").value;
          let lastName = document.getElementById("lastNameInput").value;
          let employeeID = document.getElementById("employeeIDInput").value;
          let gender = document.getElementById("gender").value;
          let ethnicity = document.getElementById("ethnicityInput").value;
          let role = document.getElementById("roleInput").value;
          let departmentNumber = document.getElementById("departmentNumberInput").value;
          let salary = document.getElementById("salaryInput").value;
          let socialSecurity = document.getElementById("ssnInput").value;

          // Get the table and insert a new row at the end
          let table = document.getElementById("outputTable");
          let newRow = table.insertRow(table.rows.length);

          // Insert data into cells of the new row
          newRow.insertCell(0).innerHTML = firstName;
          newRow.insertCell(1).innerHTML = middleName;
          newRow.insertCell(2).innerHTML = lastName;
          newRow.insertCell(3).innerHTML = employeeID;
          newRow.insertCell(4).innerHTML = gender;
          newRow.insertCell(5).innerHTML = ethnicity;
          newRow.insertCell(6).innerHTML = role;
          newRow.insertCell(7).innerHTML = departmentNumber;
          newRow.insertCell(8).innerHTML = salary;
          newRow.insertCell(9).innerHTML = socialSecurity;
          newRow.insertCell(10).innerHTML =
              '<button onclick="editData(this)">Edit</button>' +
              '<button onclick="deleteData(this)">Delete</button>';

          // Clear input fields
          clearInputs();
      }

      function editData(button) {
          let row = button.parentNode.parentNode;

  
          let firstNameCell = row.cells[0];
          let middleNameCell = row.cells[1];
          let lastNameCell = row.cells[2];
          let employeeIDCell = row.cells[3];
          let genderCell = row.cells[4];
          let ethnicityCell = row.cells[5];
          let roleCell = row.cells[6];
          let departmentNumberCell = row.cells[7];
          let salaryCell = row.cells[8];
          let socialSecurityCell = row.cells[9];

          
          let firstNameInput = prompt("Enter the updated first name:", firstNameCell.innerHTML);
          let middleNameInput = prompt("Enter the updated middle name:", middleNameCell.innerHTML);
          let lastNameInput = prompt("Enter the updated last name:", lastNameCell.innerHTML);
          let employeeIDInput = prompt("Enter the updated employee ID:", employeeIDCell.innerHTML);
          let genderInput = prompt("Enter the updated gender:", genderCell.innerHTML);
          let ethnicityInput = prompt("Enter the updated ethnicity:", ethnicityCell.innerHTML);
          let roleInput = prompt("Enter the updated role:", roleCell.innerHTML);
          let departmentNumberInput = prompt("Enter the updated department number:", departmentNumberCell.innerHTML);
          let salaryInput = prompt("Enter the updated salary:", salaryCell.innerHTML);
          let socialSecurityInput = prompt("Enter the updated SSN:", socialSecurityCell.innerHTML);

          
          if (!firstNameInput || !middleNameInput || !lastNameInput || !employeeIDInput || !genderInput || !ethnicityInput || !roleInput || !departmentNumberInput || !salaryInput || !socialSecurityInput) {
              alert("All categories need to be filled out.");
              return;
          }

          if (firstNameInput.length > 100 || middleNameInput.length > 100 || lastNameInput.length > 100) {
              alert("Name fields should be at most 100 characters.");
              return;
          }

          if (employeeIDInput.length !== 8) {
              alert("Employee ID can have a maximum of 8 numbers.");
              return;
          }

          if (ethnicityInput.length > 200) {
              alert("Ethnicity should be at most 200 characters.");
              return;
          }

          if (roleInput.length > 100) {
              alert("Employee role should be at most 100 characters.");
              return;
          }

          if (departmentNumberInput < 0 || departmentNumberInput > 150) {
              alert("Department number should be between 0 and 150.");
              return;
          }

          if (salaryInput.length > 7 || parseFloat(salaryInput) <= 0) {
              alert("Salary can have a maximum of 7 numbers and has to be greater than 0.");
              return;
          }

          if (socialSecurityInput.length !== 9) {
              alert("Social security number must be exactly 9 digits.");
              return;
          }

         
          firstNameCell.innerHTML = firstNameInput;
          middleNameCell.innerHTML = middleNameInput;
          lastNameCell.innerHTML = lastNameInput;
          employeeIDCell.innerHTML = employeeIDInput;
          genderCell.innerHTML = genderInput;
          ethnicityCell.innerHTML = ethnicityInput;
          roleCell.innerHTML = roleInput;
          departmentNumberCell.innerHTML = departmentNumberInput;
          salaryCell.innerHTML = salaryInput;
          socialSecurityCell.innerHTML = socialSecurityInput;
      }


      function deleteData(button) {
          // Get the parent row of the clicked button
          let row = button.parentNode.parentNode;

          // Remove the row from the table
          row.parentNode.removeChild(row);
      }

      function clearInputs() {
          // Clear input fields
          document.getElementById("firstNameInput").value = "";
          document.getElementById("middleNameInput").value = "";
          document.getElementById("lastNameInput").value = "";
          document.getElementById("employeeIDInput").value = "";
          document.getElementById("gender").value = "male"; // Reset gender to default
          document.getElementById("ethnicityInput").value = "";
          document.getElementById("roleInput").value = "";
          document.getElementById("departmentNumberInput").value = "";
          document.getElementById("salaryInput").value = "";
          document.getElementById("ssnInput").value = "";
      }
  </script>
  </body>
</html>
