<html>
  <head>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <meta name="viewport" content="width=device-width, initial-scale = 1.0" />
    <title>Artwork Alteration</title>

    <link rel="stylesheet" href="employee_artwork_alt.css" />
  </head>

  <body>
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-5HZHZH"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
        lazy="true"
      ></iframe>
    </noscript>

    <body>
      <div class="hero">
        <nav>
          <a href="employee_login_frontpage.html">
          <img src="images/MFA.png" class="logo" />
          <ul>
            <li><a href="employee_login_frontpage.html">Home</a></li>
            <li><a href="">About</a></li>
            <li><a href="">Collection</a></li>
            <li><a href="">Exhibitions</a></li>
            <li><a href="">Tickets</a></li>
            <li><a href="">Shop</a></li>
            <li><a href="employee_database.html">Database</a></li>
            <li><a href="frontpage.html">Log Out</a></li>
          </ul>
        </nav>

    <div>
      <h1 class="title-align" style="color: rgb(222, 44, 44)">Artwork Alteration</h1>

      <div id="formContainer" class="inner">
        <label for="titleInput"> Title: </label>
        <input
          type="text"
          id="titleInput"
          placeholder="Enter the artwork title"
        />

        <label for="creatorNameInput"> Creator Name: </label>
        <input
          type="text"
          id="creatorNameInput"
          placeholder="Enter the creator's name"
        />


        <label for="creationDateInput"> Creation Date: </label>
        <input
          type="date"
          id="creationDateInput"
        />

        <label for="countryInput"> Country of Origin: </label>
        <input
          type="text"
          id="countryInput"
          placeholder="Enter the country of origin"
        />

        <label for="cultureInput"> Culture: </label>
        <input
          type="text"
          id="cultureInput"
          placeholder="Enter the culture"
        />

        <label for="mediumInput"> Medium: </label>
        <input
          type="text"
          id="mediumInput"
          placeholder="Enter the medium used."
        />

        <label for="dimensionsInput"> Dimensions (cm) (length x width (e.g. '64.8 x 49.7')): </label>
        <input
          type="text"
          id="dimensionsInput"
          placeholder="Enter the dimensions of the artwork"
        />

        <label for="descriptionInput"> Descripton: </label>

        <textarea id="descriptionInput" placeholder="Enter a description of the artwork"></textarea>

        <label for="artIDInput"> Art ID: </label>
        <input
          type="number"
          id="artIDInput"
          placeholder="Enter a valid art ID"
        />

        <label for="exhibInput"> Exhibition Number: </label>
        <input
          type="number"
          id="exhibInput"
          placeholder="Enter the exhibition number"
        />

        <label for="specialExhibInput"> Special Exhibition Number: </label>
        <input
          type="number"
          id="specialExhibInput"
          placeholder="Enter the special exhibition number"
        />

        <label for="externalCollectionIDInput"> External Collection: </label>
        <input
          type="number"
          id="externalCollectionIDInput"
          placeholder="Enter a valid external collection ID"
        />


        <button onclick="validateAndAddData()">Add</button>
      </div>
    </div>
      </div>

    <table id="outputTable">
      <tr>
        <th>Title</th>
        <th>Creator Name</th>
        <th>Creation Date</th>
        <th>Country of Origin</th>
        <th>Culture</th>
        <th>Medium</th>
        <th>Dimensions</th>
        <th>Description</th>
        <th>Art ID</th>
        <th>Exhibition Number</th>
        <th>Special Exhibition Number</th>
        <th>External Collection</th>
      </tr>
    </table>

    <script>


function validateAndAddData() {
  let title = document.getElementById("titleInput").value;
  let creatorName = document.getElementById("creatorNameInput").value;
  let creationDate = document.getElementById("creationDateInput").value;
  let country = document.getElementById("countryInput").value;
  let culture = document.getElementById("cultureInput").value;
  let medium = document.getElementById("mediumInput").value;
  let dimensions = document.getElementById("dimensionsInput").value;
  let description = document.getElementById("descriptionInput").value;
  let artID = document.getElementById("artIDInput").value;
  let exhib = document.getElementById("exhibInput").value;
  let specialExhib = document.getElementById("specialExhibInput").value;
  let externalCollectionIDInput = document.getElementById("externalCollectionIDInput").value;


    if (!title || !creatorName || !creationDate || !country || !culture || !medium || !dimensions || !description || !artID || !exhib || !specialExhib || !externalCollectionIDInput) {
        alert("All categories need to be filled out.");
        return;
    }


    if (title.length > 300) {
        alert("The artwork title should be at most 300 characters.");
        return;
    }

    if (creatorName.length > 200) {
        alert("Creator name should be at most 200 characters.");
        return;
    }

    const currentDate = new Date();
  if (creationDate > currentDate) {
    alert("Creation date cannot be beyond the current date.");
    return;
  }

    if (country.length > 70) {
    alert("Country name should be at most 70 characters.");
    return;
}


    if (culture.length > 70) {
        alert("Culture name should be at most 70 characters.");
        return;
    }

    if (medium.length > 100) {
        alert("Medium name should be at most 100 characters.");
        return;
    }

    if (!/^\d+(\.\d+)? x \d+(\.\d+)?$/.test(dimensions)) {
  alert("Dimensions should follow the format length x width (e.g. '64.8 x 49.7')");
  return;
}


  if (description.length > 1000) {
        alert("Description should be at most 1000 characters.");
        return;
    }


    if (artID.length !== 8) {
    alert("Art ID must be exactly 8 digits.");
    return;
    }

    if (exhib.length > 150) {
        alert("Exhibition name should be at most 150 characters.");
        return;
    }

    if (specialExhib.length > 150) {
        alert("Special xhibition name should be at most 150 characters.");
        return;
    }

    if (externalCollectionIDInput.length !== 8) {
    alert("External Collection ID must be exactly 8 digits.");
    return;
    }

   

    addData();
}

      function addData() {
          // Get input values
          let title = document.getElementById("titleInput").value;
          let creatorName = document.getElementById("creatorNameInput").value;
          let creationDate = document.getElementById("creationDateInput").value;
          let country = document.getElementById("countryInput").value;
          let culture = document.getElementById("cultureInput").value;
          let medium = document.getElementById("mediumInput").value;
          let dimensions = document.getElementById("dimensionsInput").value;
          let description = document.getElementById("descriptionInput").value;
          let artID = document.getElementById("artIDInput").value;
          let exhib = document.getElementById("exhibInput").value;
          let specialExhib = document.getElementById("specialExhibInput").value;
          let externalCollectionIDInput = document.getElementById("externalCollectionIDInput").value;

          // Get the table and insert a new row at the end
          let table = document.getElementById("outputTable");
          let newRow = table.insertRow(table.rows.length);

          // Insert data into cells of the new row
          newRow.insertCell(0).innerHTML = title;
          newRow.insertCell(1).innerHTML = creatorName;
          newRow.insertCell(2).innerHTML = creationDate;
          newRow.insertCell(3).innerHTML = country;
          newRow.insertCell(4).innerHTML = culture;
          newRow.insertCell(5).innerHTML = medium;
          newRow.insertCell(6).innerHTML = dimensions;
          newRow.insertCell(7).innerHTML = description;
          newRow.insertCell(8).innerHTML = artID;
          newRow.insertCell(9).innerHTML = exhib;
          newRow.insertCell(10).innerHTML = specialExhib;
          newRow.insertCell(11).innerHTML = externalCollectionIDInput;
          newRow.insertCell(12).innerHTML =
              '<button onclick="editData(this)">Edit</button>' +
              '<button onclick="deleteData(this)">Delete</button>';

          // Clear input fields
          clearInputs();
      }

      function editData(button) {
  // Get the parent row of the clicked button
  let row = button.parentNode.parentNode;

  // Get the cells within the row
  let titleCell = row.cells[0];
  let creatorNameCell = row.cells[1];
  let creationDateCell = row.cells[2];
  let countryCell = row.cells[3];
  let cultureCell = row.cells[4];
  let mediumCell = row.cells[5];
  let dimensionsCell = row.cells[6];
  let descriptionCell = row.cells[7];
  let artIDCell = row.cells[8];
  let exhibCell = row.cells[9];
  let specialExhibCell = row.cells[10];
  let externalCollectionIDCell = row.cells[11];

  // Prompt the user to enter updated values with existing values as default
  let updatedTitle = prompt("Enter the updated artwork title:", titleCell.innerHTML);
  let updatedCreatorName = prompt("Enter the updated creator name:", creatorNameCell.innerHTML);
  let updatedCreationDate = prompt("Enter the updated creation date:", creationDateCell.innerHTML);
  let updatedCountry = prompt("Enter the updated country:", countryCell.innerHTML);
  let updatedCulture = prompt("Enter the updated culture:", cultureCell.innerHTML);
  let updatedMedium = prompt("Enter the updated medium:", mediumCell.innerHTML);
  let updatedDimensions = prompt("Enter the updated dimensions:", dimensionsCell.innerHTML);
  let updatedDescription = prompt("Enter the updated description:", descriptionCell.innerHTML);
  let updatedArtID = prompt("Enter the updated artID:", artIDCell.innerHTML);
  let updatedExhib = prompt("Enter the updated exhibition:", exhibCell.innerHTML);
  let updatedSpecialExhib = prompt("Enter the updated special exhibition:", specialExhibCell.innerHTML);
  let updatedExternalCollectionID = prompt("Enter the updated external collection ID:", externalCollectionIDCell.innerHTML);

  // Validate the updated values
  if (
    !updatedTitle ||
    !updatedCreatorName ||
    !updatedCreationDate ||
    !updatedCountry ||
    !updatedCulture ||
    !updatedMedium ||
    !updatedDimensions ||
    !updatedDescription ||
    !updatedArtID ||
    !updatedExhib ||
    !updatedSpecialExhib ||
    !updatedExternalCollectionID
  ) {
    alert("All fields must be filled out.");
    return;
  }

  if (updatedTitle.length > 300) {
    alert("The artwork title should be at most 300 characters.");
    return;
  }

  if (updatedCreatorName.length > 200) {
    alert("Creator name should be at most 200 characters.");
    return;
  }

  const currentDate = new Date();
  if (new Date(updatedCreationDate) > currentDate) {
    alert("Creation date cannot be beyond the current date.");
    return;
  }

  if (updatedCountry.length > 70) {
    alert("Country name should be at most 70 characters.");
    return;
  }

  if (updatedCulture.length > 70) {
    alert("Culture name should be at most 70 characters.");
    return;
  }

  if (updatedMedium.length > 100) {
    alert("Medium name should be at most 100 characters.");
    return;
  }

  if (!/^\d+(\.\d+)? x \d+(\.\d+)?$/.test(updatedDimensions)) {
    alert("Dimensions should follow the format length x width (e.g., '64.8 x 49.7')");
    return;
  }

  if (updatedDescription.length > 1000) {
    alert("Description should be at most 1000 characters.");
    return;
  }

  if (updatedArtID.length !== 8) {
    alert("Art ID must be exactly 8 digits.");
    return;
  }

  if (updatedExhib.length > 150) {
    alert("Exhibition name should be at most 150 characters.");
    return;
  }

  if (updatedSpecialExhib.length > 150) {
    alert("Special exhibition name should be at most 150 characters.");
    return;
  }

  if (updatedExternalCollectionID.length !== 8) {
    alert("External Collection ID must be exactly 8 digits.");
    return;
  }

  // Update the cell contents with the new values
  titleCell.innerHTML = updatedTitle;
  creatorNameCell.innerHTML = updatedCreatorName;
  creationDateCell.innerHTML = updatedCreationDate;
  countryCell.innerHTML = updatedCountry;
  cultureCell.innerHTML = updatedCulture;
  mediumCell.innerHTML = updatedMedium;
  dimensionsCell.innerHTML = updatedDimensions;
  descriptionCell.innerHTML = updatedDescription;
  artIDCell.innerHTML = updatedArtID;
  exhibCell.innerHTML = updatedExhib;
  specialExhibCell.innerHTML = updatedSpecialExhib;
  externalCollectionIDCell.innerHTML = updatedExternalCollectionID;
}




      function deleteData(button) {
          // Get the parent row of the clicked button
          let row = button.parentNode.parentNode;

          // Remove the row from the table
          row.parentNode.removeChild(row);
      }

      function clearInputs() {
  // Clear input fields
  document.getElementById("titleInput").value = "";
  document.getElementById("creatorNameInput").value = "";
  document.getElementById("creationDateInput").value = "";
  document.getElementById("countryInput").value = "";
  document.getElementById("cultureInput").value = "";
  document.getElementById("mediumInput").value = "";
  document.getElementById("dimensionsInput").value = "";
  document.getElementById("descriptionInput").value = "";
  document.getElementById("artIDInput").value = "";
  document.getElementById("exhibInput").value = "";
  document.getElementById("specialExhibInput").value = "";
  document.getElementById("externalCollectionIDInput").value = "";
}
  </script>
  </body>
</html>