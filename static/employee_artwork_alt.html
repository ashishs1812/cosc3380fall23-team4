<html>
  <head>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <meta name="viewport" content="width=device-width, initial-scale = 1.0" />
    <title>Artwork Alteration</title>

    <link rel="stylesheet" href="employee_artwork_alt.css" />
  </head>

  <body>
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-5HZHZH"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
        lazy="true"
      ></iframe>
    </noscript>

    <body>
      <div class="hero">
        <nav>
          <a href="employee_login_frontpage.html">
          <img src="images/MFA.png" class="logo" />
          <ul>
            <li><a href="employee_artwork_view.html">Artwork Search</a></li>
            <li><a href="employee_artwork_alt.html">Artwork Alteration</a></li>
            <li><a href="employee_exhibition_alt.html">Exhibition Alteration</a></li>
            <li><a href="employee_exhibitionticket_alt.html">Exhibition Timeslot Alteration</a></li>
            <li><a href="frontpage.html">Log Out</a></li>
          </ul>
        </nav>

    <div>
      <h1 class="title-align" style="color: rgb(222, 44, 44)">Artwork Alteration</h1>

      <div id="formContainer" class="inner">
      <form action="/employeeartworkalt" method="post">
        <label for="titleInput"> Title: </label>
        <input
          type="text"
          id="titleInput"
          name="titleInput"
          placeholder="Enter the artwork title"
        />

        <label for="creatorNameInput"> Creator Name: </label>
        <input
          type="text"
          id="creatorNameInput"
          name="creatorNameInput"
          placeholder="Enter the creator's name"
        />


        <label for="creationDateInput"> Creation Year: </label>
        <input
          type="text"
          id="creationDateInput"
          name="creationDateInput"
          placeholder="Enter year like '1955 CE' or '1955 BCE'"
        />

        <label for="countryInput"> Country of Origin: </label>
        <input
          type="text"
          id="countryInput"
          name="countryInput"
          placeholder="Enter the country of origin"
        />

        <label for="cultureInput"> Culture: </label>
        <input
          type="text"
          id="cultureInput"
          name="cultureInput"
          placeholder="Enter the culture"
        />

        <label for="mediumInput"> Medium: </label>
        <input
          type="text"
          id="mediumInput"
          name="mediumInput"
          placeholder="Enter the medium used"
        />

        <label for="dimensionsInput"> Dimensions (cm) (length x width (e.g. '64.8 x 49.7') or length x width x height (e.g. '64.8 x 49.7 x 2.1')): </label>
        <input
          type="text"
          id="dimensionsInput"
          name="dimensionsInput"
          placeholder="Enter the dimensions of the artwork"
        />

        <label for="descriptionInput"> Descripton: </label>

        <textarea id="descriptionInput" name="descriptionInput" placeholder="Enter a description of the artwork"></textarea>

        <label for="artIDInput"> Art ID: </label>
        <input
          type="text"
          id="artIDInput"
          name="artIDInput"
          placeholder="Enter a valid art ID"
        />

        <label for="exhibInput"> Exhibition Number: </label>
        <input
          type="text"
          id="exhibInput"
          name="exhibInput"
          placeholder="Enter the exhibition number"
        />

        <label for="externalCollectionIDInput"> External Collection: </label>
        <input
          type="text"
          id="externalCollectionIDInput"
          name="externalCollectionIDInput"
          placeholder="Enter 'yes' or 'no'"
        />

        <label for="deptInput"> Department Number: </label>
        <input
          type="number"
          id="deptInput"
          name="deptInput"
          placeholder="Enter the department number"
        />

        <label for="deletedInput"> Is "Deleted": </label>
        <input
          type="text"
          id="deletedInput"
          name="deletedInput"
          placeholder="Enter 'yes' or 'no'"
        />



        <button type="submit" id="addbutton" name="addbutton" value="0">Add</button>
        <button type="submit" id="updatebutton" name="updatebutton" value="0">Update</button>
      </form>
      <button onclick="validateAdd()" id="validateadd" name="validateadd">Validate Add</button>
      <button onclick="validateAlteration()" id="validateupdate" name="validateupdate">Validate Update</button>


      </div>
    </div>
      </div>

    <table id="outputTable">
      <tr>
        <th>Title</th>
        <th>Creator Name</th>
        <th>Creation Date</th>
        <th>Country of Origin</th>
        <th>Culture</th>
        <th>Medium</th>
        <th>Dimensions</th>
        <th>Description</th>
        <th>Artwork ID</th>
        <th>Exhibition Number</th>
        <th>External Collection</th>
        <th>Department</th>
        <th>"Deleted"</th>
      </tr>
    </table>

  <script>
function validateAdd() {

  let title = document.getElementById("titleInput").value;
    let creatorName = document.getElementById("creatorNameInput").value;
    let creationDate = document.getElementById("creationDateInput").value;
    let country = document.getElementById("countryInput").value;
    let culture = document.getElementById("cultureInput").value;
    let medium = document.getElementById("mediumInput").value;
    let dimensions = document.getElementById("dimensionsInput").value;
    let description = document.getElementById("descriptionInput").value;
    let artID = document.getElementById("artIDInput").value;
    let exhib = document.getElementById("exhibInput").value;
    let dept = document.getElementById("deptInput").value;
    let externalCollectionInput = document.getElementById("externalCollectionIDInput").value;
    let del = document.getElementById("deletedInput").value;
    
    if(!title && !creatorName && !creationDate && !country && !culture && !medium && !dimensions && !description && !artID && !exhib && !dept && !externalCollectionInput && !del){
      alert("ALL categories need to be filled out.");
      document.getElementById("addbutton").value = "0";
      return;
    }

    if (!title) {
      alert("Title is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(title.length > 100) {
        alert("The Title should be at most 100 characters.");
        document.getElementById("addbutton").value = "0";
        return;
    }

    if (!creatorName) {
      alert("Creator Name is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if (creatorName.length > 50) {
        alert("Creator name should be at most 50 characters.");
        document.getElementById("addbutton").value = "0";
        return;
    }

    if(!creationDate) {
      alert("Creation Year is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;      
    }
    else if(!/^\d+ CE$/.test(creationDate) && !/^\d+ BCE$/.test(creationDate)) {
      alert("Creation Year must be of the form '1955 CE' or '1955 BCE'.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(parseInt(creationDate) > 10000 && creationDate.includes("BCE")) {
      alert("Creation Year should be no later than 10000 BCE.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(parseInt(creationDate) > 2023) {
      alert("Creation Year should not be after 2023 CE.");
      document.getElementById("addbutton").value = "0";
      return;
    }

    if (!country) {
      alert("Country of Origin is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(country.length > 50){
      alert("Country of Origin should be at most 50 characters.");
      document.getElementById("addbutton").value = "0";
      return;
    }

    if (!culture) {
      alert("Culture is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(culture.length > 50){
      alert("Culture should be at most 50 characters.");
      document.getElementById("addbutton").value = "0";
      return;
    }


    if (!medium) {
      alert("Medium is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    } 
    else if(medium.length > 150) {
      alert("Medium should be at most 150 characters.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    
    if (!dimensions) {
      alert("Dimensions are required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if (!(/^\d+\.\d+ x \d+\.\d+$/.test(dimensions)) && !(/^\d+\.\d+? x \d+\.\d+? x \d+\.\d+$/.test(dimensions)) ) {
      alert("Dimensions should follow the format l x w (e.g. '64.8 x 49.7') or l x w x h (e.g. '64.8 x 49.7 x 2.1').");
      document.getElementById("addbutton").value = "0";
      return;
    }

    if (!description) {
      alert("Description is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(description.length > 1000) {
      alert("Description should be at most 1000 characters.");
      document.getElementById("addbutton").value = "0";
      return;
    }

    if (!artID) {
      alert("Art ID is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(!/^[A-Z]{1}\d{8}$/.test(artID)) {
      alert("Art ID must be of the form '[A-Z](8)' or '[A-Z]########'.");
      return;
    }
    if(!exhib){
      alert("Exhibition Number is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(!/^E\d{8}/.test(exhib)){
      alert("Exhibition Number should be of the form 'E(8)' or 'E########'.");
      document.getElementById("addbutton").value = "0";
      return;      
    }

    if(!externalCollectionInput){
      alert("External Collection is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(!(externalCollectionInput == "no") && !(externalCollectionInput == "yes")){
      alert("External Collection must be 'yes' or 'no'.");
      document.getElementById("addbutton").value = "0";
      return;

    }

    if (!dept) {
      alert("Department Number is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(parseInt(dept) < 1 || parseInt(dept) > 9) {
      alert("Department Number should be between 1 and 9.");
      document.getElementById("addbutton").value = "0";
      return;     
    }

    if(!del){
      alert("'Deleted' is required for Add.");
      document.getElementById("addbutton").value = "0";
      return;
    }
    else if(!(del == "no") && !(del == "yes")){
      alert("'Deleted' must be 'yes' or 'no'.");
      document.getElementById("addbutton").value = "0";
      return;

    }

    document.getElementById("addbutton").value = "1";
    alert("Add is Valid! You can now click the 'Add' button.");

    return;
}

function validateAlteration() {
    console.log("current value of updatebutton:");
    console.log(document.getElementById("updatebutton").value);

    let title = document.getElementById("titleInput").value;
    let creatorName = document.getElementById("creatorNameInput").value;
    let creationDate = document.getElementById("creationDateInput").value;
    let country = document.getElementById("countryInput").value;
    let culture = document.getElementById("cultureInput").value;
    let medium = document.getElementById("mediumInput").value;
    let dimensions = document.getElementById("dimensionsInput").value;
    let description = document.getElementById("descriptionInput").value;
    let artID = document.getElementById("artIDInput").value;
    let exhib = document.getElementById("exhibInput").value;
    let dept = document.getElementById("deptInput").value;
    let externalCollectionInput = document.getElementById("externalCollectionIDInput").value;
    let del = document.getElementById("deletedInput").value;

    
    if(!artID) {
        alert("Need Artwork ID to Update.");
        document.getElementById("updatebutton").value = "0";
        return;
    }
    if(!(artID ==="")) {
      if(!/^[A-Z]{1}\d{8}$/.test(artID)) {
        alert("Art ID must be of the form '[A-Z](8)' or '[A-Z]########'.");
        document.getElementById("updatebutton").value = "0";
        return;
      }
    }
    if(!title && !creatorName && !creationDate && !country && !culture && !medium && !dimensions && !description && !exhib && !dept && !externalCollectionInput && !del){
      alert('No changes made, please enter new values to be updated.');
      document.getElementById("updatebutton").value = "0";
      return;
    }

    if(!(title === "")) {
        if (title.length > 100) {
            alert("Title should be at most 100 characters.");
            document.getElementById("updatebutton").value = "0";
            return;
        }
    }

    if(!(creatorName === "")) {
        if (creatorName.length > 50) {
            alert("Creator name should be at most 50 characters.");
            document.getElementById("updatebutton").value = "0";
           return;
        }
    }

     if(!(creationDate === "")) {
      if(!/^\d+ CE$/.test(creationDate) && !/^\d+ BCE$/.test(creationDate)) {
        alert("Creation Year must be of the form '1955 CE' or '1955 BCE'.");
        document.getElementById("updatebutton").value = "0";
        return;
      }
      else if(parseInt(creationDate) > 10000 && creationDate.includes("BCE")) {
        alert("Creation Year should be no later than 10000 BCE.");
        document.getElementById("updatebutton").value = "0";
        return;
      }
      else if(parseInt(creationDate) > 2023) {
        alert("Creation Year should not be after 2023 CE.");
        document.getElementById("updatebutton").value = "0";
        return;
      }
    }
    
    if(!(country === "")) {
      if (country.length > 50) {
          alert("Country name should be at most 50 characters.");
          document.getElementById("updatebutton").value = "0";
          return;
      }
    }

    if(!(culture === "")) {
      if (culture.length > 50) {
          alert("Culture name should be at most 50 characters.");
          document.getElementById("updatebutton").value = "0";
          return;
      }
    }
    
    if(!(medium === "")) {
      if (medium.length > 150) {
        alert("Medium name should be at most 150 characters.");
        document.getElementById("updatebutton").value = "0";
        return;
      }
    } 

    if(!(dimensions === "")) {
      if (!(/^\d+\.\d+ x \d+\.\d+$/.test(dimensions)) && !(/^\d+\.\d+? x \d+\.\d+? x \d+\.\d+$/.test(dimensions)) ) {
        alert("Dimensions should follow the format l x w (e.g. '64.8 x 49.7') or l x w x h (e.g. '64.8 x 49.7 x 2.1').");
        document.getElementById("updatebutton").value = "0";
        return;
      }
    }

    if(!(description === "")) {
      if (description.length > 1000) {
          alert("Description should be at most 1000 characters.");
          document.getElementById("updatebutton").value = "0";
          return;
      }
    }
    if(!(exhib === "")) {
      if(!/^E\d{8}$/.test(exhib)){
        alert("Exhibition Number should be of the form 'E(8)' or 'E########'.");
        document.getElementById("updatebutton").value = "0";
        return;      
      }
    }


    if(!(externalCollectionInput === "")) {
      if(!(externalCollectionInput == "no") && !(externalCollectionInput == "yes")){
        alert("External Collection must be 'yes' or 'no'.");
        document.getElementById("updatebutton").value = "0";
        return;

      }
    }

    if(!(dept === "")) {
      if(parseInt(dept) < 1 || parseInt(dept) > 9) {
        alert("Department Number should be between 1 and 9.");
        document.getElementById("updatebutton").value = "0";
        return;     
     }
    }

    if(!(del === "")) {
      if(!(del == "no") && !(del == "yes")){
        alert("'Deleted' must be 'yes' or 'no'.");
        document.getElementById("deletebutton").value = "0";
        return;
      }
    }

    document.getElementById("updatebutton").value = "1";
    alert("Update is Valid! You can click the 'Update' button.");
    return;
}

</script>
</body>
</html>

